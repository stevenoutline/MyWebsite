(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[711],{3234:function(e,t,n){"use strict";n.d(t,{NI:function(){return x},Yp:function(){return g},lX:function(){return _}});var r=n(7294),a=n(8387),l=n(6734),i=n(9632),s=n(4520),o=n(2494),u=(...e)=>e.filter(Boolean).join(" "),d=e=>e?"":void 0,c=e=>!!e||void 0;function p(...e){return function(t){e.some(e=>(null==e||e(t),null==t?void 0:t.defaultPrevented))}}var[m,h]=(0,a.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[f,v]=(0,a.k)({strict:!1,name:"FormControlContext"}),x=(0,i.Gp)(function(e,t){let n=(0,i.jC)("Form",e),a=(0,s.Lr)(e),{getRootProps:o,htmlProps:c,...p}=function(e){let{id:t,isRequired:n,isInvalid:a,isDisabled:i,isReadOnly:s,...o}=e,u=(0,r.useId)(),c=t||`field-${u}`,p=`${c}-label`,m=`${c}-feedback`,h=`${c}-helptext`,[f,v]=(0,r.useState)(!1),[x,g]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),_=(0,r.useCallback)((e={},t=null)=>({id:h,...e,ref:(0,l.lq)(t,e=>{e&&g(!0)})}),[h]),E=(0,r.useCallback)((e={},t=null)=>({...e,ref:t,"data-focus":d(y),"data-disabled":d(i),"data-invalid":d(a),"data-readonly":d(s),id:e.id??p,htmlFor:e.htmlFor??c}),[c,i,y,a,s,p]),I=(0,r.useCallback)((e={},t=null)=>({id:m,...e,ref:(0,l.lq)(t,e=>{e&&v(!0)}),"aria-live":"polite"}),[m]),N=(0,r.useCallback)((e={},t=null)=>({...e,...o,ref:t,role:"group"}),[o]),S=(0,r.useCallback)((e={},t=null)=>({...e,ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!a,isReadOnly:!!s,isDisabled:!!i,isFocused:!!y,onFocus:()=>b(!0),onBlur:()=>b(!1),hasFeedbackText:f,setHasFeedbackText:v,hasHelpText:x,setHasHelpText:g,id:c,labelId:p,feedbackId:m,helpTextId:h,htmlProps:o,getHelpTextProps:_,getErrorMessageProps:I,getRootProps:N,getLabelProps:E,getRequiredIndicatorProps:S}}(a),h=u("chakra-form-control",e.className);return r.createElement(f,{value:p},r.createElement(m,{value:n},r.createElement(i.m$.div,{...o({},t),className:h,__css:n.container})))});function g(e){let{isDisabled:t,isInvalid:n,isReadOnly:r,isRequired:a,...l}=function(e){let t=v(),{id:n,disabled:r,readOnly:a,required:l,isRequired:i,isInvalid:s,isReadOnly:o,isDisabled:u,onFocus:d,onBlur:c,...m}=e,h=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==t?void 0:t.hasFeedbackText)&&(null==t?void 0:t.isInvalid)&&h.push(t.feedbackId),(null==t?void 0:t.hasHelpText)&&h.push(t.helpTextId),{...m,"aria-describedby":h.join(" ")||void 0,id:n??(null==t?void 0:t.id),isDisabled:r??u??(null==t?void 0:t.isDisabled),isReadOnly:a??o??(null==t?void 0:t.isReadOnly),isRequired:l??i??(null==t?void 0:t.isRequired),isInvalid:s??(null==t?void 0:t.isInvalid),onFocus:p(null==t?void 0:t.onFocus,d),onBlur:p(null==t?void 0:t.onBlur,c)}}(e);return{...l,disabled:t,readOnly:r,required:a,"aria-invalid":c(n),"aria-required":c(a),"aria-readonly":c(r)}}x.displayName="FormControl",(0,i.Gp)(function(e,t){let n=v(),a=h(),l=u("chakra-form__helper-text",e.className);return r.createElement(i.m$.div,{...null==n?void 0:n.getHelpTextProps(e,t),__css:a.helperText,className:l})}).displayName="FormHelperText";var[y,b]=(0,a.k)({name:"FormErrorStylesContext",errorMessage:"useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormError />\" "});(0,i.Gp)((e,t)=>{let n=(0,i.jC)("FormError",e),a=(0,s.Lr)(e),l=v();return(null==l?void 0:l.isInvalid)?r.createElement(y,{value:n},r.createElement(i.m$.div,{...null==l?void 0:l.getErrorMessageProps(a,t),className:u("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...n.text}})):null}).displayName="FormErrorMessage",(0,i.Gp)((e,t)=>{let n=b(),a=v();if(!(null==a?void 0:a.isInvalid))return null;let l=u("chakra-form__error-icon",e.className);return r.createElement(o.JO,{ref:t,"aria-hidden":!0,...e,__css:n.icon,className:l},r.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}).displayName="FormErrorIcon";var _=(0,i.Gp)(function(e,t){let n=(0,i.mq)("FormLabel",e),a=(0,s.Lr)(e),{className:l,children:o,requiredIndicator:d=r.createElement(E,null),optionalIndicator:c=null,...p}=a,m=v(),h=(null==m?void 0:m.getLabelProps(p,t))??{ref:t,...p};return r.createElement(i.m$.label,{...h,className:u("chakra-form__label",a.className),__css:{display:"block",textAlign:"start",...n}},o,(null==m?void 0:m.isRequired)?d:c)});_.displayName="FormLabel";var E=(0,i.Gp)(function(e,t){let n=v(),a=h();if(!(null==n?void 0:n.isRequired))return null;let l=u("chakra-form__required-indicator",e.className);return r.createElement(i.m$.span,{...null==n?void 0:n.getRequiredIndicatorProps(e,t),__css:a.requiredIndicator,className:l})});E.displayName="RequiredIndicator"},979:function(e,t,n){"use strict";n.d(t,{BZ:function(){return h},II:function(){return c},xH:function(){return I}});var r=n(7294),a=n(3234),l=n(9632),i=n(4520),s=n(5336),o=n(8387),u=n(4031),d=n(6076),c=(0,l.Gp)(function(e,t){let{htmlSize:n,...o}=e,u=(0,l.jC)("Input",o),d=(0,i.Lr)(o),c=(0,a.Yp)(d),p=(0,s.cx)("chakra-input",e.className);return r.createElement(l.m$.input,{size:n,...c,__css:u.field,ref:t,className:p})});c.displayName="Input",c.id="Input";var[p,m]=(0,o.k)({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "}),h=(0,l.Gp)(function(e,t){let n=(0,l.jC)("Input",e),{children:a,className:o,...c}=(0,i.Lr)(e),m=(0,s.cx)("chakra-input__group",o),h={},f=(0,u.W)(a),v=n.field;f.forEach(e=>{n&&(v&&"InputLeftElement"===e.type.id&&(h.paddingStart=v.height??v.h),v&&"InputRightElement"===e.type.id&&(h.paddingEnd=v.height??v.h),"InputRightAddon"===e.type.id&&(h.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(h.borderStartRadius=0))});let x=f.map(t=>{var n,a;let l=(0,d.oA)({size:(null==(n=t.props)?void 0:n.size)||e.size,variant:(null==(a=t.props)?void 0:a.variant)||e.variant});return"Input"!==t.type.id?(0,r.cloneElement)(t,l):(0,r.cloneElement)(t,Object.assign(l,h,t.props))});return r.createElement(l.m$.div,{className:m,ref:t,__css:{width:"100%",display:"flex",position:"relative"},...c},r.createElement(p,{value:n},x))});h.displayName="InputGroup";var f={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},v=(0,l.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),x=(0,l.Gp)(function(e,t){let{placement:n="left",...a}=e,l=f[n]??{},i=m();return r.createElement(v,{ref:t,...a,__css:{...i.addon,...l}})});x.displayName="InputAddon";var g=(0,l.Gp)(function(e,t){return r.createElement(x,{ref:t,placement:"left",...e,className:(0,s.cx)("chakra-input__left-addon",e.className)})});g.displayName="InputLeftAddon",g.id="InputLeftAddon";var y=(0,l.Gp)(function(e,t){return r.createElement(x,{ref:t,placement:"right",...e,className:(0,s.cx)("chakra-input__right-addon",e.className)})});y.displayName="InputRightAddon",y.id="InputRightAddon";var b=(0,l.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),_=(0,l.Gp)(function(e,t){let{placement:n="left",...a}=e,l=m(),i=l.field,s={["left"===n?"insetStart":"insetEnd"]:"0",width:(null==i?void 0:i.height)??(null==i?void 0:i.h),height:(null==i?void 0:i.height)??(null==i?void 0:i.h),fontSize:null==i?void 0:i.fontSize,...l.element};return r.createElement(b,{ref:t,__css:s,...a})});_.id="InputElement",_.displayName="InputElement";var E=(0,l.Gp)(function(e,t){let{className:n,...a}=e,l=(0,s.cx)("chakra-input__left-element",n);return r.createElement(_,{ref:t,placement:"left",className:l,...a})});E.id="InputLeftElement",E.displayName="InputLeftElement";var I=(0,l.Gp)(function(e,t){let{className:n,...a}=e,l=(0,s.cx)("chakra-input__right-element",n);return r.createElement(_,{ref:t,placement:"right",className:l,...a})});I.id="InputRightElement",I.displayName="InputRightElement"},2556:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/uc/change-pwd",function(){return n(3685)}])},2821:function(e,t,n){"use strict";var r=n(5893),a=n(8395),l=n(3234),i=n(8641),s=n(979),o=n(2494),u=n(7294),d=n(5434),c=n(9352);let p=e=>{let{lable:t="密码",placeholder:n,onChange:p}=e,[m,h]=u.useState(!1),f=()=>h(!m),v=(0,a.ff)("navy.700","white"),x=(0,a.ff)("brand.500","brand.400");return(0,r.jsxs)(l.NI,{children:[(0,r.jsxs)(l.lX,{ms:"4px",fontSize:"sm",fontWeight:"500",color:v,display:"flex",children:[t,(0,r.jsx)(i.xv,{color:x,children:"*"})]}),(0,r.jsxs)(s.BZ,{size:"md",children:[(0,r.jsx)(s.II,{isRequired:!0,fontSize:"sm",placeholder:n||"",mb:"24px",size:"lg",type:m?"text":"password",variant:"auth",onChange:p}),(0,r.jsx)(s.xH,{display:"flex",alignItems:"center",mt:"4px",children:(0,r.jsx)(o.JO,{color:"gray.400",_hover:{cursor:"pointer"},as:m?c.nO8:d.WCS,onClick:f})})]})]})};t.Z=p},0:function(e,t,n){"use strict";var r,a,l=n(5893),i=n(3382),s=n(8641);(r=a||(a={}))[r.success=0]="success",r[r.info=1]="info",r[r.warning=2]="warning",r[r.error=3]="error";let o=e=>{let{type:t="success",title:n,content:r,children:a}=e;return(0,l.jsxs)(s.xu,{textAlign:"center",py:10,px:6,children:[(()=>{switch(t){case"success":default:return(0,l.jsx)(i.rE,{boxSize:"50px",color:"green.500"});case"info":return(0,l.jsx)(i.sz,{boxSize:"50px",color:"blue.500"});case"warning":return(0,l.jsx)(i.ii,{boxSize:"50px",color:"orange.300"});case"error":return(0,l.jsx)(i.Tw,{boxSize:"20px",color:"white"})}})(),(0,l.jsx)(s.X6,{as:"h2",size:"xl",mt:6,mb:2,children:n}),r&&(0,l.jsx)(s.xv,{my:10,color:"gray.500",children:r}),a]})};t.Z=o},3685:function(e,t,n){"use strict";n.r(t);var r=n(5893),a=n(8641),l=n(3038),i=n(7741),s=n(7294),o=n(2821),u=n(0),d=n(2829),c=n(2962);let p=()=>{let[e,t]=(0,s.useState)(""),[n,p]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[f,v]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1),[y,b]=(0,s.useState)(""),_=t=>{if(t.preventDefault(),0===e.length||n.length<6){b("请输入有效的密码");return}if(n!==m){b("两次密码不一致");return}I()},E=s.useContext(d.V),I=async()=>{g(!0),v(!1);let t=await fetch("http://10.7.1.102:8000/api/user/changepassword",{method:"POST",headers:{Authorization:"Bearer ".concat(E.token),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({oldpwd:e,newpwd:n})}),r=await t.json();200!==r.status&&b(r.msg),g(!1),v(!0)};return f&&y?(0,r.jsx)(u.Z,{type:"error",title:"修改密码失败",content:y}):f?(0,r.jsx)(u.Z,{type:"success",title:"修改密码成功",content:"修改密码成功，请转到登陆页面 ..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.PB,{title:"修改密钥",description:"Outline VPN 会员中心，修改密码"}),(0,r.jsxs)(a.kC,{h:"60vh",maxW:"xl",direction:"column",justifyContent:"center",children:[y&&(0,r.jsxs)(l.bZ,{status:"error",variant:"subtle",borderRadius:"md",my:5,children:[(0,r.jsx)(l.zM,{}),y]}),(0,r.jsxs)("form",{onSubmit:_,children:[(0,r.jsx)(o.Z,{onChange:e=>t(e.target.value),lable:"原密码"}),(0,r.jsx)(o.Z,{onChange:e=>p(e.target.value),lable:"新密码",placeholder:"最少6个字符"}),(0,r.jsx)(o.Z,{onChange:e=>h(e.target.value),lable:"重复密码",placeholder:"最少6个字符"}),(0,r.jsx)(i.zx,{type:"submit",fontSize:"sm",variant:"brand",fontWeight:"500",w:"100%",h:"50",mb:"24px",isLoading:x,children:"确定"})]})]})]})};p.Layout="uc",p.requireAuthed=!0,t.default=p}},function(e){e.O(0,[937,774,888,179],function(){return e(e.s=2556)}),_N_E=e.O()}]);